From: Martin Quinson <martin.quinson@loria.fr>
Date: Sat, 26 May 2018 15:13:02 +0200
Subject: yaml: improve the test a bit

Make sure that the levels in the hierarchy do not share the same name
so that we better see what happens.

Cherry-picked from upstream commit c798547d17e7313de89b6a316c2bf209bf05cba3
---
 t/data-32/yamlkeysoption1.out  |   2 +-
 t/data-32/yamlkeysoption1.yaml |   2 +-
 t/data-32/yamlkeysoption2.out  |   2 +-
 t/data-32/yamlkeysoption2.yaml |   2 +-
 t/data-32/yamltest.out         |  16 +++---
 t/data-32/yamltest.po          | 116 ++++++++++++++++++++---------------------
 t/data-32/yamltest.yaml        |   8 +--
 7 files changed, 74 insertions(+), 74 deletions(-)

diff --git a/t/data-32/yamlkeysoption1.out b/t/data-32/yamlkeysoption1.out
index 33a6916..0c019ac 100644
--- a/t/data-32/yamlkeysoption1.out
+++ b/t/data-32/yamlkeysoption1.out
@@ -17,7 +17,7 @@ Topics:
   -
     Dir: install
     Name: 'Installing Fedora'
-    Topics:
+    Sub-Topics:
       -
         File: Preparing_for_Installation
         Name: 'Preparing for Installation'
diff --git a/t/data-32/yamlkeysoption1.yaml b/t/data-32/yamlkeysoption1.yaml
index f571a26..1f2533c 100644
--- a/t/data-32/yamlkeysoption1.yaml
+++ b/t/data-32/yamlkeysoption1.yaml
@@ -12,7 +12,7 @@ Topics:
     File: Downloading_Fedora
   - Name: Installing Fedora
     Dir: install
-    Topics: 
+    Sub-Topics: 
       - Name: Preparing for Installation
         File: Preparing_for_Installation
       - Name: Booting the Installation
diff --git a/t/data-32/yamlkeysoption2.out b/t/data-32/yamlkeysoption2.out
index 33a6916..0c019ac 100644
--- a/t/data-32/yamlkeysoption2.out
+++ b/t/data-32/yamlkeysoption2.out
@@ -17,7 +17,7 @@ Topics:
   -
     Dir: install
     Name: 'Installing Fedora'
-    Topics:
+    Sub-Topics:
       -
         File: Preparing_for_Installation
         Name: 'Preparing for Installation'
diff --git a/t/data-32/yamlkeysoption2.yaml b/t/data-32/yamlkeysoption2.yaml
index f571a26..1f2533c 100644
--- a/t/data-32/yamlkeysoption2.yaml
+++ b/t/data-32/yamlkeysoption2.yaml
@@ -12,7 +12,7 @@ Topics:
     File: Downloading_Fedora
   - Name: Installing Fedora
     Dir: install
-    Topics: 
+    Sub-Topics: 
       - Name: Preparing for Installation
         File: Preparing_for_Installation
       - Name: Booting the Installation
diff --git a/t/data-32/yamltest.out b/t/data-32/yamltest.out
index 5d779a0..148b9aa 100644
--- a/t/data-32/yamltest.out
+++ b/t/data-32/yamltest.out
@@ -1,7 +1,6 @@
 ---
 Dir: en-US
-Name: 'Fedora Installation Guide'
-Topics:
+Level1:
   -
     File: index
     Name: 'Book Information'
@@ -16,8 +15,7 @@ Topics:
     Name: 'Downloading Fedora'
   -
     Dir: install
-    Name: 'Installing Fedora'
-    Topics:
+    Level2-a:
       -
         File: Preparing_for_Installation
         Name: 'Preparing for Installation'
@@ -33,10 +31,10 @@ Topics:
       -
         File: Troubleshooting
         Name: Troubleshooting
+    Name: 'Installing Fedora'
   -
     Dir: advanced
-    Name: 'Advanced Installation Options'
-    Topics:
+    Level2-b:
       -
         File: Boot_Options
         Name: 'Boot Options'
@@ -52,10 +50,10 @@ Topics:
       -
         File: Upgrading_Your_Current_System
         Name: 'Upgrading Your Current System'
+    Name: 'Advanced Installation Options'
   -
     Dir: appendixes
-    Name: 'Technical Appendixes'
-    Topics:
+    Level2-c:
       -
         File: Kickstart_Syntax_Reference
         Name: 'Kickstart Syntax Reference'
@@ -65,9 +63,11 @@ Topics:
       -
         File: Understanding_LVM
         Name: 'Understanding LVM'
+    Name: 'Technical Appendixes'
   -
     File: Revision_History
     Name: 'Revision History'
+Name: 'Fedora Installation Guide'
 ---
 bill-to:
   address:
diff --git a/t/data-32/yamltest.po b/t/data-32/yamltest.po
index 522658a..78105e7 100644
--- a/t/data-32/yamltest.po
+++ b/t/data-32/yamltest.po
@@ -7,7 +7,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
-"POT-Creation-Date: 2018-05-25 08:00+0000\n"
+"POT-Creation-Date: 2018-05-26 15:07+0200\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -21,245 +21,245 @@ msgstr ""
 msgid "en-US"
 msgstr ""
 
-#. type: Hash Value - Key: Name
-#, no-wrap
-msgid "Fedora Installation Guide"
-msgstr ""
-
 #. type: Hash Value - Key: File
-#: :Topics:
+#: :Level1:
 #, no-wrap
 msgid "index"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics:
+#: :Level1:
 #, no-wrap
 msgid "Book Information"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics: :Topics:
+#: :Level1: :Level1:
 #, no-wrap
 msgid "Preface"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics: :Topics:
+#: :Level1: :Level1:
 #, no-wrap
 msgid "Introduction"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics:
+#: :Level1:
 #, no-wrap
 msgid "Downloading_Fedora"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics:
+#: :Level1:
 #, no-wrap
 msgid "Downloading Fedora"
 msgstr ""
 
 #. type: Hash Value - Key: Dir
-#: :Topics:
+#: :Level1:
 #, no-wrap
 msgid "install"
 msgstr ""
 
-#. type: Hash Value - Key: Name
-#: :Topics:
-#, no-wrap
-msgid "Installing Fedora"
-msgstr ""
-
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-a:
 #, no-wrap
 msgid "Preparing_for_Installation"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-a:
 #, no-wrap
 msgid "Preparing for Installation"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-a:
 #, no-wrap
 msgid "Booting_the_Installation"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-a:
 #, no-wrap
 msgid "Booting the Installation"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-a:
 #, no-wrap
 msgid "Installing_Using_Anaconda"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-a:
 #, no-wrap
 msgid "Installing Using Anaconda"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-a:
 #, no-wrap
 msgid "After_Installation"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-a:
 #, no-wrap
 msgid "After the Installation"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics: :Topics::Topics:
+#: :Level1::Level2-a: :Level1::Level2-a:
 #, no-wrap
 msgid "Troubleshooting"
 msgstr ""
 
-#. type: Hash Value - Key: Dir
-#: :Topics:
+#. type: Hash Value - Key: Name
+#: :Level1:
 #, no-wrap
-msgid "advanced"
+msgid "Installing Fedora"
 msgstr ""
 
-#. type: Hash Value - Key: Name
-#: :Topics:
+#. type: Hash Value - Key: Dir
+#: :Level1:
 #, no-wrap
-msgid "Advanced Installation Options"
+msgid "advanced"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-b:
 #, no-wrap
 msgid "Boot_Options"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-b:
 #, no-wrap
 msgid "Boot Options"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-b:
 #, no-wrap
 msgid "Kickstart_Installations"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-b:
 #, no-wrap
 msgid "Automating the Installation with Kickstart"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-b:
 #, no-wrap
 msgid "Network_based_Installations"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-b:
 #, no-wrap
 msgid "Setting Up an Installation Server"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-b:
 #, no-wrap
 msgid "VNC_Installations"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-b:
 #, no-wrap
 msgid "Installing Using VNC"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-b:
 #, no-wrap
 msgid "Upgrading_Your_Current_System"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-b:
 #, no-wrap
 msgid "Upgrading Your Current System"
 msgstr ""
 
-#. type: Hash Value - Key: Dir
-#: :Topics:
+#. type: Hash Value - Key: Name
+#: :Level1:
 #, no-wrap
-msgid "appendixes"
+msgid "Advanced Installation Options"
 msgstr ""
 
-#. type: Hash Value - Key: Name
-#: :Topics:
+#. type: Hash Value - Key: Dir
+#: :Level1:
 #, no-wrap
-msgid "Technical Appendixes"
+msgid "appendixes"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-c:
 #, no-wrap
 msgid "Kickstart_Syntax_Reference"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-c:
 #, no-wrap
 msgid "Kickstart Syntax Reference"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-c:
 #, no-wrap
 msgid "Disk_Partitions"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-c:
 #, no-wrap
 msgid "An Introduction to Disk Partitions"
 msgstr ""
 
 #. type: Hash Value - Key: File
-#: :Topics::Topics:
+#: :Level1::Level2-c:
 #, no-wrap
 msgid "Understanding_LVM"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics::Topics:
+#: :Level1::Level2-c:
 #, no-wrap
 msgid "Understanding LVM"
 msgstr ""
 
+#. type: Hash Value - Key: Name
+#: :Level1:
+#, no-wrap
+msgid "Technical Appendixes"
+msgstr ""
+
 #. type: Hash Value - Key: File
-#: :Topics:
+#: :Level1:
 #, no-wrap
 msgid "Revision_History"
 msgstr ""
 
 #. type: Hash Value - Key: Name
-#: :Topics:
+#: :Level1:
 #, no-wrap
 msgid "Revision History"
 msgstr ""
 
+#. type: Hash Value - Key: Name
+#, no-wrap
+msgid "Fedora Installation Guide"
+msgstr ""
+
 #. type: Hash Value - Key: city
 #: :bill-to:address
 #, no-wrap
diff --git a/t/data-32/yamltest.yaml b/t/data-32/yamltest.yaml
index 413761d..25ddb79 100644
--- a/t/data-32/yamltest.yaml
+++ b/t/data-32/yamltest.yaml
@@ -23,7 +23,7 @@
 ---
 Name:  Fedora Installation Guide
 Dir: en-US
-Topics:
+Level1:
   - Name: Book Information
     File: index
   - Name: Preface
@@ -34,7 +34,7 @@ Topics:
     File: Downloading_Fedora
   - Name: Installing Fedora
     Dir: install
-    Topics: 
+    Level2-a: 
       - Name: Preparing for Installation
         File: Preparing_for_Installation
       - Name: Booting the Installation
@@ -47,7 +47,7 @@ Topics:
         File: Troubleshooting
   - Name: Advanced Installation Options
     Dir: advanced
-    Topics:
+    Level2-b:
       - Name: Boot Options
         File: Boot_Options
       - Name: Automating the Installation with Kickstart
@@ -60,7 +60,7 @@ Topics:
         File: Upgrading_Your_Current_System
   - Name: Technical Appendixes
     Dir: appendixes
-    Topics:
+    Level2-c:
       - Name: Kickstart Syntax Reference
         File: Kickstart_Syntax_Reference
       - Name: An Introduction to Disk Partitions
